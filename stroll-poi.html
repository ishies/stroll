<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stroll App - Nearby POI</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Clarendon', 'Georgia', serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .phone-container {
            width: 320px;
            height: 600px;
            background: linear-gradient(180deg, #a8d5ba 0%, #6fb583 50%, #4a9b63 100%);
            border-radius: 30px;
            padding: 40px 25px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .back-arrow {
            position: absolute;
            top: 30px;
            left: 25px;
            width: 35px;
            height: 35px;
            background: rgba(255,255,255,0.3);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            cursor: pointer;
            z-index: 10;
            transition: background 0.2s;
        }

        .back-arrow:hover {
            background: rgba(255,255,255,0.4);
        }

        .top-actions {
            position: absolute;
            top: 30px;
            right: 25px;
            display: flex;
            gap: 10px;
            z-index: 10;
        }

        .action-btn {
            width: 35px;
            height: 35px;
            background: rgba(255,255,255,0.3);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            cursor: pointer;
            border: none;
            transition: all 0.3s;
        }

        .action-btn:hover {
            background: rgba(255,255,255,0.4);
            transform: scale(1.05);
        }

        .action-btn:active {
            transform: scale(0.95);
        }

        .heart-btn.liked {
            background: rgba(255,255,255,0.9);
            color: #e53e3e;
            animation: heartPulse 0.3s ease-in-out;
        }

        @keyframes heartPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .refresh-btn.spinning {
            animation: spin 0.6s ease-in-out;
        }

        .refresh-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .refresh-icon svg {
            width: 100%;
            height: 100%;
        }

        .content {
            position: relative;
            z-index: 5;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 60px;
        }

        .map-container {
            width: 100%;
            height: 220px;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            margin-bottom: 15px;
        }

        .map-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        h1 {
            color: white;
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 15px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .poi-box {
            width: 100%;
            background: white;
            border-radius: 16px;
            padding: 18px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .poi-name {
            font-size: 18px;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 6px;
        }

        .poi-distance {
            font-size: 15px;
            color: #718096;
        }

        .button {
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 15px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-family: 'Clarendon', 'Georgia', serif;
            background: linear-gradient(135deg, #8b5a3c 0%, #a0745c 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(139,90,60,0.4);
        }

        .button:hover {
            box-shadow: 0 6px 20px rgba(139,90,60,0.5);
        }

        .button:active {
            transform: scale(0.98);
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="phone-container">
        <div class="back-arrow" onclick="window.history.back()">‹</div>
        
        <div class="top-actions">
            <button class="action-btn refresh-btn" id="refreshBtn" title="Refresh POI">
                <div class="refresh-icon">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4 12C4 7.58172 7.58172 4 12 4C14.5264 4 16.7792 5.17108 18.2454 7" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
                        <path d="M20 12C20 16.4183 16.4183 20 12 20C9.47362 20 7.22082 18.8289 5.75463 17" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
                        <path d="M17 7L18.5 7L18.5 5.5" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M7 17L5.5 17L5.5 18.5" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
            </button>
            <button class="action-btn heart-btn" id="heartBtn" title="Like this POI">
                ♡
            </button>
        </div>
        
        <div class="content">
            <div class="map-container">
                <svg class="map-image" viewBox="0 0 270 280" xmlns="http://www.w3.org/2000/svg">
                    <!-- Background -->
                    <rect width="270" height="280" fill="#e8f5e9"/>
                    
                    <!-- Roads -->
                    <line x1="0" y1="140" x2="270" y2="140" stroke="#cbd5e0" stroke-width="8"/>
                    <line x1="135" y1="0" x2="135" y2="280" stroke="#cbd5e0" stroke-width="8"/>
                    
                    <!-- Green spaces (parks) -->
                    <rect x="20" y="20" width="80" height="80" fill="#81c784" rx="8"/>
                    <rect x="170" y="170" width="80" height="80" fill="#81c784" rx="8"/>
                    
                    <!-- Buildings -->
                    <rect x="150" y="30" width="40" height="50" fill="#a0aec0" rx="4"/>
                    <rect x="200" y="40" width="35" height="60" fill="#a0aec0" rx="4"/>
                    <rect x="30" y="160" width="50" height="45" fill="#a0aec0" rx="4"/>
                    <rect x="90" y="175" width="30" height="55" fill="#a0aec0" rx="4"/>
                    
                    <!-- Location pin (user location) -->
                    <circle cx="135" cy="140" r="20" fill="#4a9b63" opacity="0.3"/>
                    <circle cx="135" cy="140" r="10" fill="#4a9b63"/>
                    <circle cx="135" cy="140" r="5" fill="white"/>
                    
                    <!-- POI marker (coffee shop) -->
                    <g transform="translate(180, 90)">
                        <path d="M 0 -20 Q -8 -20, -8 -12 L -8 12 Q -8 20, 0 20 Q 8 20, 8 12 L 8 -12 Q 8 -20, 0 -20 Z" fill="#8b5a3c"/>
                        <circle cx="0" cy="25" r="3" fill="#8b5a3c"/>
                    </g>
                </svg>
            </div>
            
            <h1>Nearby POI</h1>
            
            <div class="poi-box">
                <div class="poi-name">Blue Bottle Coffee</div>
                <div class="poi-distance">450 W 15th St, New York, NY 10011</div>
            </div>
            
            <button class="button" id="detailsBtn">See Details</button>
        </div>
    </div>

    <script>
        // Mock POI data for demonstration
        const mockPOIs = [
            {
                name: "Blue Bottle Coffee",
                address: "450 W 15th St, New York, NY 10011",
                type: "coffee_shop"
            },
            {
                name: "Stumptown Coffee Roasters",
                address: "30 W 8th St, New York, NY 10011",
                type: "coffee_shop"
            },
            {
                name: "The High Line",
                address: "New York, NY 10011",
                type: "park"
            },
            {
                name: "Chelsea Market",
                address: "75 9th Ave, New York, NY 10011",
                type: "market"
            },
            {
                name: "Joe's Pizza",
                address: "7 Carmine St, New York, NY 10014",
                type: "restaurant"
            },
            {
                name: "Washington Square Park",
                address: "Washington Square, New York, NY 10012",
                type: "park"
            },
            {
                name: "Strand Bookstore",
                address: "828 Broadway, New York, NY 10003",
                type: "bookstore"
            }
        ];

        let currentPOI = null;
        let likedPOIs = [];
        let isLiked = false;

        // Simulate loading a personalized POI
        function loadPOI() {
            // Filter out already liked POIs occasionally to show variety
            let availablePOIs = mockPOIs;
            
            // If user has liked POIs, give 60% chance to show similar type
            if (likedPOIs.length > 0 && Math.random() > 0.4) {
                const likedTypes = likedPOIs.map(poi => poi.type);
                const similarPOIs = mockPOIs.filter(poi => likedTypes.includes(poi.type));
                if (similarPOIs.length > 0) {
                    availablePOIs = similarPOIs;
                }
            }
            
            // Select random POI
            currentPOI = availablePOIs[Math.floor(Math.random() * availablePOIs.length)];
            
            // Update UI
            document.querySelector('.poi-name').textContent = currentPOI.name;
            document.querySelector('.poi-distance').textContent = currentPOI.address;
            
            // Reset heart state
            isLiked = false;
            const heartBtn = document.getElementById('heartBtn');
            heartBtn.textContent = '♡';
            heartBtn.classList.remove('liked');
        }

        // Handle heart button click
        function handleLike() {
            const heartBtn = document.getElementById('heartBtn');
            
            if (!isLiked) {
                // Like the POI
                isLiked = true;
                heartBtn.textContent = '♥';
                heartBtn.classList.add('liked');
                
                // Add to liked POIs if not already there
                if (!likedPOIs.find(poi => poi.name === currentPOI.name)) {
                    likedPOIs.push(currentPOI);
                    console.log('Liked POIs:', likedPOIs.map(p => p.name));
                }
            } else {
                // Unlike the POI
                isLiked = false;
                heartBtn.textContent = '♡';
                heartBtn.classList.remove('liked');
                
                // Remove from liked POIs
                likedPOIs = likedPOIs.filter(poi => poi.name !== currentPOI.name);
                console.log('Liked POIs:', likedPOIs.map(p => p.name));
            }
        }

        // Handle refresh button click
        function handleRefresh() {
            const refreshBtn = document.getElementById('refreshBtn');
            refreshBtn.classList.add('spinning');
            
            // Remove spinning class after animation
            setTimeout(() => {
                refreshBtn.classList.remove('spinning');
            }, 600);
            
            // Load new POI
            loadPOI();
        }

        // Setup event listeners
        window.addEventListener('load', () => {
            loadPOI();
            
            document.getElementById('heartBtn').addEventListener('click', handleLike);
            document.getElementById('refreshBtn').addEventListener('click', handleRefresh);
            
            document.getElementById('detailsBtn').addEventListener('click', () => {
                if (currentPOI) {
                    const mapsUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(currentPOI.address)}`;
                    window.open(mapsUrl, '_blank');
                }
            });
        });
    </script>
</body>
</html>
